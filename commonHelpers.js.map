{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["const PIXABAY_KEY = '44174782-27b27c44e5570cc8c29375d58';\n\nconst getImages = (text) => {\n  return fetch(`https://pixabay.com/api/?key=${PIXABAY_KEY}&q=${text}\n&image_type=photo&orientation=horizontal&safesearch=true`);\n};\n\nexport default {\n  getImages,\n};\n","const createLoading = document.createElement('p');\ncreateLoading.innerHTML = 'Loading images, please wait...';\ncreateLoading.className = 'loading';\n\nconst createImgCardItem = (img, key) => {\n  const imgInfoItem = document.createElement('div');\n  const itemTitle = document.createElement('span');\n  const itemValue = document.createElement('span');\n  imgInfoItem.className = 'imgInfoItem';\n  itemTitle.className = 'item';\n  itemValue.className = 'item';\n  itemTitle.className = 'itemTitle';\n  itemValue.className = 'itemValue';\n  itemTitle.innerHTML = key;\n  itemValue.innerHTML = img[key];\n  imgInfoItem.appendChild(itemTitle);\n  imgInfoItem.appendChild(itemValue);\n\n  return imgInfoItem;\n};\n\nconst createImgCard = (img) => {\n  const link = document.createElement('a');\n  const imgCard = document.createElement('div');\n  const image = document.createElement('img');\n  const imgInfo = document.createElement('div');\n  link.className = 'gallery-link';\n  link.href = img.largeImageURL;\n  link.append(image);\n  imgCard.className = 'imgCard gallery-item';\n  image.className = 'gallery-image imgBox';\n  image.alt = img.tags;\n  image.src = img.webformatURL;\n  imgInfo.className = 'imgInfo';\n  link.appendChild(image);\n  imgCard.append(link);\n  imgCard.appendChild(imgInfo);\n  imgInfo.appendChild(createImgCardItem(img, 'likes'));\n  imgInfo.appendChild(createImgCardItem(img, 'views'));\n  imgInfo.appendChild(createImgCardItem(img, 'comments'));\n  imgInfo.appendChild(createImgCardItem(img, 'downloads'));\n\n  return imgCard;\n};\n\nexport default {\n  createLoading,\n  createImgCard,\n};","import 'izitoast/dist/css/iziToast.min.css';\nimport iziToast from 'izitoast';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport pixabayApi from './js/pixabay-api.js';\nimport render from './js/render-function.js';\n\nconst SEARCH_TEXT_ERR = `Search text cant be empty!`;\nconst NO_IMAGES_ERR = `Sorry, there are no images matching your search\nquery. Please try again!`;\nconst searchForm = document.querySelector('.searchForm');\nconst container = document.querySelector('.container');\nconst input = document.querySelector('.inputSearch');\nconst loader = render.createLoading;\nconst showError = (message) => {\n  iziToast.error({\n    position: 'topRight',\n    message: message,\n  });\n};\nlet text = '';\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionPosition: 'bottom',\n});\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  text = input.value;\n\n  if (text === '') return showError(SEARCH_TEXT_ERR);\n\n  container.innerHTML = '';\n  container.append(loader);\n  pixabayApi.getImages(text)\n    .then(res => res.json())\n    .then(data => {\n      const { hits } = data;\n\n      if (hits.length === 0) return showError(NO_IMAGES_ERR);\n\n      const items = hits.map(img => render.createImgCard(img));\n      container.innerHTML = '';\n      container.append(...items);\n\n      lightbox.refresh();\n      lightbox.next();\n    })\n    .catch(err => console.log(err));\n});"],"names":["PIXABAY_KEY","getImages","text","pixabayApi","createLoading","createImgCardItem","img","key","imgInfoItem","itemTitle","itemValue","createImgCard","link","imgCard","image","imgInfo","render","SEARCH_TEXT_ERR","NO_IMAGES_ERR","searchForm","container","input","loader","showError","message","iziToast","lightbox","SimpleLightbox","event","res","data","hits","items","err"],"mappings":"6vBAAA,MAAMA,EAAc,qCAEdC,EAAaC,GACV,MAAM,gCAAgCF,CAAW,MAAME,CAAI;AAAA,yDACX,EAG1CC,EAAA,CACb,UAAAF,CACF,ECTMG,EAAgB,SAAS,cAAc,GAAG,EAChDA,EAAc,UAAY,iCAC1BA,EAAc,UAAY,UAE1B,MAAMC,EAAoB,CAACC,EAAKC,IAAQ,CACtC,MAAMC,EAAc,SAAS,cAAc,KAAK,EAC1CC,EAAY,SAAS,cAAc,MAAM,EACzCC,EAAY,SAAS,cAAc,MAAM,EAC/C,OAAAF,EAAY,UAAY,cACxBC,EAAU,UAAY,OACtBC,EAAU,UAAY,OACtBD,EAAU,UAAY,YACtBC,EAAU,UAAY,YACtBD,EAAU,UAAYF,EACtBG,EAAU,UAAYJ,EAAIC,CAAG,EAC7BC,EAAY,YAAYC,CAAS,EACjCD,EAAY,YAAYE,CAAS,EAE1BF,CACT,EAEMG,EAAiBL,GAAQ,CAC7B,MAAMM,EAAO,SAAS,cAAc,GAAG,EACjCC,EAAU,SAAS,cAAc,KAAK,EACtCC,EAAQ,SAAS,cAAc,KAAK,EACpCC,EAAU,SAAS,cAAc,KAAK,EAC5C,OAAAH,EAAK,UAAY,eACjBA,EAAK,KAAON,EAAI,cAChBM,EAAK,OAAOE,CAAK,EACjBD,EAAQ,UAAY,uBACpBC,EAAM,UAAY,uBAClBA,EAAM,IAAMR,EAAI,KAChBQ,EAAM,IAAMR,EAAI,aAChBS,EAAQ,UAAY,UACpBH,EAAK,YAAYE,CAAK,EACtBD,EAAQ,OAAOD,CAAI,EACnBC,EAAQ,YAAYE,CAAO,EAC3BA,EAAQ,YAAYV,EAAkBC,EAAK,OAAO,CAAC,EACnDS,EAAQ,YAAYV,EAAkBC,EAAK,OAAO,CAAC,EACnDS,EAAQ,YAAYV,EAAkBC,EAAK,UAAU,CAAC,EACtDS,EAAQ,YAAYV,EAAkBC,EAAK,WAAW,CAAC,EAEhDO,CACT,EAEeG,EAAA,CACb,cAAAZ,EACA,cAAAO,CACF,ECzCMM,EAAkB,6BAClBC,EAAgB;AAAA,0BAEhBC,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAY,SAAS,cAAc,YAAY,EAC/CC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAASN,EAAO,cAChBO,EAAaC,GAAY,CAC7BC,EAAS,MAAM,CACb,SAAU,WACV,QAASD,CACb,CAAG,CACH,EACA,IAAItB,EAAO,GACX,MAAMwB,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,gBAAiB,QACnB,CAAC,EAEDR,EAAW,iBAAiB,SAAUS,GAAS,CAI7C,GAHAA,EAAM,eAAc,EACpB1B,EAAOmB,EAAM,MAETnB,IAAS,GAAI,OAAOqB,EAAUN,CAAe,EAEjDG,EAAU,UAAY,GACtBA,EAAU,OAAOE,CAAM,EACvBnB,EAAW,UAAUD,CAAI,EACtB,KAAK2B,GAAOA,EAAI,MAAM,EACtB,KAAKC,GAAQ,CACZ,KAAM,CAAE,KAAAC,CAAM,EAAGD,EAEjB,GAAIC,EAAK,SAAW,EAAG,OAAOR,EAAUL,CAAa,EAErD,MAAMc,EAAQD,EAAK,IAAIzB,GAAOU,EAAO,cAAcV,CAAG,CAAC,EACvDc,EAAU,UAAY,GACtBA,EAAU,OAAO,GAAGY,CAAK,EAEzBN,EAAS,QAAO,EAChBA,EAAS,KAAI,CACnB,CAAK,EACA,MAAMO,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,CAAC"}